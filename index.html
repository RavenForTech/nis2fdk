<!DOCTYPE html>
<html lang="hu">
<head>
	<meta charset="UTF-8">
	<title>NIS2 Kiberbiztonsági Felügyeleti díj kalkulátor</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			margin: 20px;
			max-width: 400px;
		}
		label {
			display: block;
			margin-bottom: 5px;
			font-weight: bold;
		}
		input[type="number"] {
			width: 100%;
			padding: 8px;
			margin-bottom: 15px;
			box-sizing: border-box;
		}
		button {
			padding: 10px 15px;
			cursor: pointer;
		}
		.result {
			margin-top: 20px;
			font-weight: bold;
			font-size: 1.1em;
		}


		    .switch-wrapper {
      display: inline-block;
      position: relative;
      width: 60px;
      height: 34px;
    }

    /* Rejtett checkbox */
    .switch-wrapper input[type="checkbox"] {
      opacity: 0;
      width: 0;
      height: 0;
    }

    /* A "slider" (a label) stílusozása, ami kapcsolóként jelenik meg */
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0; 
      left: 0; 
      right: 0; 
      bottom: 0;
      background-color: #ccc;
      -webkit-transition: .4s; 
      transition: .4s;
      border-radius: 34px;
    }

    /* A kis kör (a kapcsoló mozgó része) */
    .slider:before {
      position: absolute;
      content: "";
      height: 26px;
      width: 26px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      -webkit-transition: .4s; 
      transition: .4s;
      border-radius: 50%;
    }

    /* Ha a checkbox be van jelölve (checked), a kapcsoló háttere és a kör pozíciója megváltozik */
    input:checked + .slider {
      background-color: #2196F3;
    }

    input:checked + .slider:before {
      -webkit-transform: translateX(26px); 
      -ms-transform: translateX(26px); 
      transform: translateX(26px);
    }

    /* Opcionálisan a "No/Yes" feliratok pozícionálására is használhatsz külön stílusokat. */
    .switch-labels {
      margin-top: 8px;
      display: flex;
      justify-content: space-between;
      width: 60px;
    }
	</style>
</head>
<body>

<h1>NIS2 Kiberbiztonsági Felügyeleti díj kalkulátor</h1>
<span style="color: red">FEJLESZTES ALATT</span>
<p>
A  kalkulátor használatának feltételei:<br>
1. A kalkulátor által nyújtott eredmények kizárólag általános tájékoztatást szolgálnak, nem minősülnek pénzügyi vagy adótanácsadásnak, és nem helyettesítik a szakmai konzultációt.<br>
2. A kalkulátor használatából fakadó esetleges károkért vagy veszteségekért a szolgáltató semmilyen felelősséget nem vállal.<br>
3. A felhasználó a kalkulátor eredményeit saját felelősségére értékeli és alkalmazza.<br>
4. A szolgáltató nem garantálja a számítások pontosságát, teljességét vagy időszerűségét, és bármikor jogosult módosítani vagy megszüntetni a kalkulátort.<br>
5. A felhasználó a kalkulor használatával kijelenti hogy elolvasta, megértette és elfogadja a jelen jogi nyilatkozatban foglaltakat.<br>
</p>

<form onsubmit="return false;">
	<label for="netRevenue">Előző évi nettó árbevétel (ezer Ft):</label>
	<input type="number" id="netRevenue" min="0" step="1000000" placeholder="Pl. 1500000" required>

	<label for="months">Időszak (hónapok száma):</label>
	<input type="number" id="months" min="1" max="12" step="1" value="12" required>

	<label for="cgroup">Vállalatcsoport</label><br>
  
	<div class="switch-wrapper">
    		<!-- Rejtett checkbox -->
    		<input type="checkbox" id="cgroup" />
    		<!-- A label maga a "kapcsoló" -->
    		<label class="slider" for="cgroup"></label>
  	</div>


	<button type="button" onclick="calculateFee()">Számol</button>
</form>

<div id="result" class="result"></div>

<script>
function calculateFee() {
	// 1) Beolvasás
	let netRevenue = parseFloat(document.getElementById("netRevenue").value)*1000;
	let months = parseFloat(document.getElementById("months").value);
	let cgroup = document.getElementById("cgroup").value;
	console.log(cgroup);

	if ( isNaN(netRevenue) || netRevenue < 0 ) {
		document.getElementById("result").textContent = "Érvénytelen nettó árbevétel!";
		return;
	}
	
	if ( isNaN(months) || months < 1 || months > 12) {
		document.getElementById("result").textContent = "Az időszak hónapjai 1 és 12 között legyenek!";
		return;
	}

	// 2) Alap éves díj számítása
	let annualFee = 0;
	
	if (netRevenue < 20000000000) {
		annualFee = netRevenue * 0.0000015;
	} else {
		// 20 milliárd Ft-tól vagy fölötte:
		// 0,0015% = 0.0015 / 100 = 0.000015
		annualFee = netRevenue * 0.000015;
	}

	// Legfeljebb 10 millió Ft
	if (annualFee > 10000000) {
		annualFee = 10000000;
	}

	// 3) Időarányos rész (havi bontás alapján)
	let fee = annualFee * (months / 12);

	// 4) 1000 Ft-ra kerekítés
	// (Normál kerekítést feltételezünk)
	fee = Math.round(fee / 1000) * 1000;

	// 5) Ha 5000 Ft alatti, akkor nem kell megfizetni
	if (fee < 5000) {
		fee = 0;
	}

	// 6) Eredmény kiírása
	document.getElementById("result").textContent = "Fizetendő felügyeleti díj: " + fee.toLocaleString("hu-HU") + " Ft";
}
</script>

</body>
</html>
